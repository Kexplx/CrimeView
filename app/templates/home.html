<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home / CrimeView</title>
    <script src="assets/js/jquery-3.4.1.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap " rel="stylesheet ">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light ">
        <img src="assets/images/police.svg" alt="">
        <div class="navbar-nav ">
            <a class="nav-link active" href="?c=Gallery&a=serve ">Home</a>
            <a class="nav-link " href="?c=Upload&a=serve ">API / Documentation</a>
        </div>
        <div class="navbar-nav ml-auto ">
            <a class="nav-link " href="?c=SignIn&a=signOut ">Github</a>
        </div>
    </nav>
    <div class="heading">
        <img src="assets/images/police.svg" alt="">
        <h1>CrimeView</h1>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
    </div>

    <form class="form-search " method="GET ">
        <input id="inputLocation" required type="text " placeholder="Departure e.g Regensburg">
        <input id="inputLocation" required type="text " placeholder="Destination e.g Erlangen">
        <button type="button" onclick="initMap()">View Crime</button>
    </form>

    <div id="osm_map"></div>
    <iframe src="https://public.opendatasoft.com/explore/embed/dataset/landkreise-in-germany/map/?geofilter.polygon=(49.00851032320836,12.12615966796875),(49.58881441832143,10.96160888671875),(49.01571624983271,12.139892578125),(49.00851032320836,12.12615966796875)&location=9,49.33228,12.18521&basemap=jawg.streets&static=true&datasetcard=true&scrollWheelZoom=true"
        width="600" height="450" frameborder="0"></iframe>

    <script>
        // https://nominatim.openstreetmap.org/search?q=hamburg&format=json
        function initMap() {
            var map = L.map('osm_map').setView([(49.0195333 + 49.5981187) / 2, (12.0974869 + 11.003645) / 2], 10);
            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                maxZoom: 50,
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                    '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                    'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
                id: 'mapbox.streets'
            }).addTo(map);

            var circle = L.circle([49.4362114486, 11.0827553426], {
                color: 'red',
                fillColor: '#f03',
                fillOpacity: 0.3,
                radius: 20000
            }).addTo(map);

            circle = L.circle([49.4919039379, 11.3694064626], {
                color: 'red',
                fillColor: '#f03',
                fillOpacity: 0.3,
                radius: 20000
            }).addTo(map);

            new L.Routing.control({
                waypoints: [
                    L.latLng(49.0195333, 12.0974869),
                    L.latLng(49.5981187, 11.003645)
                ],
                show: false
            }).addTo(map);

            $("#osm_map").css("visibility", "visible");
        }
    </script>

</body>

</html>